<ion-view view-title="Account" class="template template-black template-account" hide-nav-bar="true">
    <ion-content>
        <div class="background" ng-style="{'background-image':'url({{ user.cover.source }})'}"></div>
        <div class="wrapper">
            <div class="content">
                <div class="profile">
                    <div class="profile-picture">
                        <div class="picture-eq"
                            ng-style="{'background-image':'url({{ user.picture.data.url}})'}">
                        </div>
                    </div>
                    <p class="experience">xp <span>{{ experience }}</span> </p>
                    <p class="name">{{ user.name }}</p>
                </div>
                <span class="line thin-line"></span>
                <div class="profile-questions" ng-if="questions.length > 0">
                    <h2>My questions </h2>
                    <div id="questions">
                        <div ng-repeat="q in questions" ng-if="q.status">
                            <p class="eq-text">
                                <span class="bullet bullet-black"></span>
                                {{ q.questionText }}
                            </p>
                            <p class="eq-stats eq-gr">
                                Good answers <span>{{ (q.stats[0] * 100 / (q.stats[0] + q.stats[1]) | number:1) || 0 }} %</span>
                            </p>
                            <p class="eq-stats eq-br">
                                Bad answers <span>{{ (q.stats[1] * 100 / (q.stats[0] + q.stats[1]) | number:1) || 0 }} %</span>
                            </p>
                        </div>
                    </div>
                </div>
                <span class="line thin-line" ng-if="questions.length > 0"></span>
                <div class="profile-ranking">
                    <h2>Ranking</h2>

                    <div class="users-list" ng-repeat="user in usersRanking">
                        <span class="index">{{$index + 1}}. </span>
                        <div class="picture">
                            <div class="picture-eq"
                                ng-style="{'background-image':'url({{ user.profilePicture}})'}">
                            </div>
                        </div>
                        <div class="text">
                            <p class="name">
                                {{ user.name }}
                            </p>
                            <p class="xp">
                                xp <span>{{user.experience}}</span>
                            </p>
                        </div>
                    </div>
                </div>
                <span class="line thin-line"></span>
                <button class="btn btn-black btn-xsmall" ng-click="logout()">Logout</button>

            </div>
        </div>
    </ion-content>
</ion-view>
